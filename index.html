<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TypeBlitz - Type Faster. Earn Rewards.</title>
    <meta name="description"
        content="Practice typing for 1 hour, earn 20% discount at Daraz or ShopY. Gamified typing practice with real rewards.">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="advanced-styles.css">
    <link rel="stylesheet" href="shopping-buttons-styles.css">
</head>

<body>
    <!-- Store Selection Modal -->
    <div id="storeModal" class="modal active">
        <div class="modal-content store-selection">
            <h1 class="app-title">
                <span class="logo-text">TypeBlitz</span>
                <span class="sparkle">‚ú®</span>
            </h1>
            <p class="tagline">Type Faster. Earn Rewards.</p>
            <p class="instruction">Choose your reward store to begin</p>

            <div class="store-cards">
                <div class="store-card daraz" data-store="daraz">
                    <div class="store-logo">
                        <div class="daraz-logo">
                            <span class="brand-d">D</span>
                            <span class="brand-text">araz</span>
                        </div>
                    </div>
                    <div class="store-description">
                        <p>Shop millions of products</p>
                        <p class="discount-badge">20% OFF</p>
                    </div>
                    <div class="store-effects">
                        <div class="flame-effect"></div>
                    </div>
                </div>

                <div class="store-card shopy" data-store="shopy">
                    <div class="store-logo">
                        <div class="shopy-logo">
                            <span class="brand-s">S</span>
                            <span class="brand-text">hopY</span>
                        </div>
                    </div>
                    <div class="store-description">
                        <p>Local stores near you</p>
                        <p class="discount-badge">20% OFF</p>
                    </div>
                    <div class="store-effects">
                        <div class="ripple-effect"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="app-container">
        <!-- Navigation -->
        <nav class="main-nav">
            <div class="nav-brand">
                <span class="logo-text">TypeBlitz</span>
                <div class="store-badge" id="storeBadge"></div>
            </div>
            <div class="nav-menu">
                <button class="nav-btn active" data-view="dashboard">
                    <span class="icon">üìä</span>
                    <span>Dashboard</span>
                </button>
                <button class="nav-btn" data-view="practice">
                    <span class="icon">‚å®Ô∏è</span>
                    <span>Practice</span>
                </button>
                <button class="nav-btn" data-view="challenges">
                    <span class="icon">üéÆ</span>
                    <span>Challenges</span>
                </button>
                <button class="nav-btn" data-view="rewards">
                    <span class="icon">üéÅ</span>
                    <span>Rewards</span>
                </button>
                <button class="nav-btn" data-view="leaderboard">
                    <span class="icon">üèÜ</span>
                    <span>Leaderboard</span>
                </button>
                <button class="nav-btn" data-view="analytics">
                    <span class="icon">üìà</span>
                    <span>Analytics</span>
                </button>
                <button class="nav-btn" data-view="achievements">
                    <span class="icon">üèÖ</span>
                    <span>Achievements</span>
                </button>
                <button class="nav-btn" data-view="store" onclick="window.location.href='store.html'">
                    <span class="icon">üõçÔ∏è</span>
                    <span>Store</span>
                </button>
                <button class="nav-btn" data-view="restaurants" onclick="window.location.href='restaurants.html'">
                    <span class="icon">üç¥</span>
                    <span>Restaurants</span>
                </button>
                <button class="nav-btn" data-view="profile" onclick="window.location.href='New folder/index.html'">
                    <span class="icon">üë§</span>
                    <span>Profile</span>
                </button>
                <button class="nav-btn" data-view="about" onclick="window.location.href='New folder/about.html'">
                    <span class="icon">‚ÑπÔ∏è</span>
                    <span>About</span>
                </button>
                <button class="nav-btn" data-view="contact" onclick="window.location.href='New folder/contact.html'">
                    <span class="icon">üìû</span>
                    <span>Contact</span>
                </button>
                <button class="nav-btn" data-view="help" onclick="window.location.href='help.html'">
                    <span class="icon">‚ùì</span>
                    <span>Help</span>
                </button>
            </div>
            <div class="nav-actions">
                <button class="sound-toggle" id="soundToggle">
                    <span class="icon">üîä</span>
                </button>
                <button class="theme-switch" id="themeSwitch">
                    <span class="icon">üîÑ</span>
                </button>
            </div>
        </nav>

        <!-- Dashboard View -->
        <main id="dashboard" class="view active">
            <div class="dashboard-container">
                <div class="welcome-section">
                    <h1 class="greeting">Keep Typing! üöÄ</h1>
                    <p class="motivator" id="motivator">Your next discount is closer than you think!</p>
                </div>

                <div class="stats-grid">
                    <!-- Coin Counter -->
                    <div class="stat-card coin-card">
                        <div class="card-header">
                            <h3>Store Coins</h3>
                            <span class="info-icon" title="Earn 1 coin per hour of practice">‚ÑπÔ∏è</span>
                        </div>
                        <div class="coin-display">
                            <div class="coin-icon">ü™ô</div>
                            <div class="coin-count" id="coinCount">0</div>
                        </div>
                        <div class="coin-sparkles" id="coinSparkles"></div>
                    </div>

                    <!-- Progress Wheel -->
                    <div class="stat-card progress-card">
                        <div class="card-header">
                            <h3>Current Session</h3>
                            <span class="time-remaining" id="timeRemaining">60:00</span>
                        </div>
                        <div class="progress-wheel">
                            <svg viewBox="0 0 200 200">
                                <circle class="progress-bg" cx="100" cy="100" r="90"></circle>
                                <circle class="progress-fill" id="progressCircle" cx="100" cy="100" r="90"></circle>
                            </svg>
                            <div class="progress-text">
                                <div class="progress-minutes" id="progressMinutes">0</div>
                                <div class="progress-label">minutes</div>
                            </div>
                        </div>
                    </div>

                    <!-- Stats Overview -->
                    <div class="stat-card stats-overview">
                        <div class="card-header">
                            <h3>Your Stats</h3>
                        </div>
                        <div class="stats-list">
                            <div class="stat-item">
                                <span class="stat-label">Average WPM</span>
                                <span class="stat-value" id="avgWpm">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Accuracy</span>
                                <span class="stat-value" id="avgAccuracy">0%</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Total Practice</span>
                                <span class="stat-value" id="totalTime">0h 0m</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Level</span>
                                <span class="stat-value" id="userLevel">1</span>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="stat-card action-card">
                        <h3>Quick Actions</h3>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="switchView('practice')">
                                <span>‚å®Ô∏è</span> Start Practice
                            </button>
                            <button class="action-btn" onclick="switchView('challenges')">
                                <span>üéØ</span> View Challenges
                            </button>
                            <button class="action-btn" onclick="switchView('rewards')">
                                <span>üéÅ</span> Browse Rewards
                            </button>
                        </div>
                    </div>

                    <!-- Store Shopping Buttons -->
                    <div class="stat-card shopping-card">
                        <h3>üõçÔ∏è Shop & Save</h3>
                        <p style="margin-bottom: 1rem; color: var(--text-secondary); font-size: 0.9rem;">Visit our
                            partner stores to redeem your earned rewards!</p>
                        <div class="shopping-buttons">
                            <button class="shop-btn daraz-btn" id="shopDarazBtn">
                                <span class="shop-icon">üî•</span>
                                <div>
                                    <div class="shop-title">Shop on Daraz</div>
                                    <div class="shop-subtitle">Electronics, Fashion & More</div>
                                </div>
                                <span class="arrow">‚Üí</span>
                            </button>
                            <button class="shop-btn shopy-btn" id="shopShopYBtn">
                                <span class="shop-icon">üåä</span>
                                <div>
                                    <div class="shop-title">Shop on ShopY</div>
                                    <div class="shop-subtitle">Local Stores & Services</div>
                                </div>
                                <span class="arrow">‚Üí</span>
                            </button>
                        </div>
                    </div>

                    <!-- Reset Data Button -->
                    <div class="stat-card reset-card">
                        <h3>‚öôÔ∏è Settings</h3>
                        <button class="reset-data-btn" id="resetAllDataBtn">
                            <span>üîÑ</span> Reset All Data
                        </button>
                        <p style="margin-top: 0.5rem; color: var(--text-muted); font-size: 0.85rem;">‚ö†Ô∏è This will clear
                            all your progress, coins, and stats</p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Practice View -->
        <main id="practice" class="view">
            <div class="practice-container">
                <div class="practice-header">
                    <h2>Practice Mode</h2>
                    <div class="practice-controls">
                        <button class="control-btn" id="pauseBtn">‚è∏Ô∏è Pause</button>
                        <button class="control-btn" id="resetBtn">üîÑ Reset</button>
                    </div>
                </div>

                <!-- Mode Selector -->
                <div class="mode-selector">
                    <button class="mode-btn active" data-mode="regular">üìù Regular</button>
                    <button class="mode-btn" data-mode="code">üë®‚Äçüíª Code</button>
                    <button class="mode-btn" data-mode="quotes">üí≠ Quotes</button>
                    <button class="mode-btn" data-mode="news">üì∞ News</button>
                    <button class="mode-btn" data-mode="custom">üìÑ Custom</button>
                </div>

                <!-- Code Language Selector (hidden by default) -->
                <div class="language-selector" id="languageSelector" style="display: none;">
                    <label>Select Language:</label>
                    <select id="codeLanguage">
                        <option value="javascript">JavaScript</option>
                        <option value="python">Python</option>
                        <option value="html">HTML</option>
                        <option value="css">CSS</option>
                    </select>
                </div>

                <!-- Custom Text Input (hidden by default) -->
                <div class="custom-text-input" id="customTextInput" style="display: none;">
                    <label>Enter your custom text:</label>
                    <textarea id="customTextArea" placeholder="Paste or type your custom text here..."
                        rows="4"></textarea>
                    <button class="import-btn" id="importCustomBtn">Import Text</button>
                </div>

                <div class="typing-stats">
                    <div class="stat-box">
                        <div class="stat-label">WPM</div>
                        <div class="stat-number wpm" id="liveWpm">0</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Accuracy</div>
                        <div class="stat-number accuracy" id="liveAccuracy">100%</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Streak</div>
                        <div class="stat-number streak" id="streak">0 üî•</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Time</div>
                        <div class="stat-number time" id="practiceTime">0:00</div>
                    </div>
                </div>

                <div class="typing-area">
                    <div class="text-display" id="textDisplay"></div>
                    <textarea class="typing-input" id="typingInput" placeholder="Start typing here..."
                        autocomplete="off" spellcheck="false"></textarea>
                </div>

                <div class="practice-footer">
                    <p class="practice-tip" id="practiceTip">üí° Tip: Focus on accuracy first, then speed will follow!
                    </p>
                </div>
            </div>
        </main>

        <!-- Challenges View -->
        <main id="challenges" class="view">
            <div class="challenges-container">
                <div class="challenges-header">
                    <h2>Typing Challenges</h2>
                    <p class="subtitle">Test your skills and earn bonus rewards!</p>
                </div>

                <div class="challenge-grid">
                    <!-- Time Attack -->
                    <div class="challenge-card time-attack">
                        <div class="challenge-icon">‚è±Ô∏è</div>
                        <h3>Time Attack</h3>
                        <p>Type as much as you can in 60 seconds!</p>
                        <div class="challenge-reward">
                            <span class="reward-icon">üéØ</span>
                            <span>+15 minutes bonus</span>
                        </div>
                        <button class="challenge-btn" data-challenge="timeAttack">Start Challenge</button>
                    </div>

                    <!-- Race Mode -->
                    <div class="challenge-card race-mode">
                        <div class="challenge-icon">üèÅ</div>
                        <h3>Race Mode</h3>
                        <p>Compete against AI opponent!</p>
                        <div class="challenge-reward">
                            <span class="reward-icon">üèÜ</span>
                            <span>+20 minutes bonus</span>
                        </div>
                        <button class="challenge-btn" data-challenge="race">Start Race</button>
                    </div>

                    <!-- Speed Sprint -->
                    <div class="challenge-card speed-sprint">
                        <div class="challenge-icon">‚ö°</div>
                        <h3>Speed Sprint</h3>
                        <p>Reach 80 WPM to unlock!</p>
                        <div class="challenge-reward">
                            <span class="reward-icon">üíé</span>
                            <span>+30 minutes bonus</span>
                        </div>
                        <button class="challenge-btn" data-challenge="sprint" disabled>üîí Locked</button>
                    </div>

                    <!-- Store Challenges -->
                    <div class="challenge-card store-challenge" id="storeChallenge">
                        <div class="challenge-icon store-icon">üõçÔ∏è</div>
                        <h3 id="storeChallengeTitle">Store Challenge</h3>
                        <p id="storeChallengeDesc">Complete store-specific challenge!</p>
                        <div class="challenge-reward">
                            <span class="reward-icon">ü™ô</span>
                            <span>+0.5 coins</span>
                        </div>
                        <button class="challenge-btn" data-challenge="store">Start Challenge</button>
                    </div>
                </div>

                <!-- Challenge Modal -->
                <div id="challengeModal" class="modal">
                    <div class="modal-content challenge-content">
                        <button class="modal-close">√ó</button>
                        <div id="challengeArea"></div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Rewards View -->
        <main id="rewards" class="view">
            <div class="rewards-container">
                <div class="rewards-header">
                    <h2>Your Rewards</h2>
                    <div class="coin-balance">
                        <span class="coin-icon">ü™ô</span>
                        <span class="balance-text" id="rewardCoins">0 Coins</span>
                    </div>
                </div>

                <div class="offers-carousel" id="offersCarousel">
                    <!-- Offers will be dynamically inserted -->
                </div>

                <div class="redemption-history">
                    <h3>Redemption History</h3>
                    <div id="historyList" class="history-list">
                        <p class="empty-state">No redemptions yet. Keep typing to earn coins!</p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Leaderboard View -->
        <main id="leaderboard" class="view">
            <div class="leaderboard-container">
                <div class="leaderboard-header">
                    <h2>Global Leaderboard üèÜ</h2>
                    <div class="leaderboard-filters">
                        <button class="filter-btn active" data-filter="global">üåç Global</button>
                        <button class="filter-btn" data-filter="friends">üë• Friends</button>
                        <button class="filter-btn" data-filter="weekly">üìÖ This Week</button>
                    </div>
                </div>

                <div class="leaderboard-list" id="leaderboardList">
                    <!-- Leaders will be dynamically inserted -->
                </div>

                <div class="your-rank-card">
                    <h3>Your Rank</h3>
                    <div class="rank-details">
                        <div class="rank-number" id="yourRank">#-</div>
                        <div class="rank-stats">
                            <div>WPM: <span id="yourRankWpm">0</span></div>
                            <div>Coins: <span id="yourRankCoins">0</span></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Analytics View -->
        <main id="analytics" class="view">
            <div class="analytics-container">
                <div class="analytics-header">
                    <h2>Your Analytics üìà</h2>
                    <div class="time-range-selector">
                        <button class="range-btn active" data-range="7">7 Days</button>
                        <button class="range-btn" data-range="30">30 Days</button>
                        <button class="range-btn" data-range="90">90 Days</button>
                        <button class="range-btn" data-range="365">All Time</button>
                    </div>
                </div>

                <!-- Summary Stats -->
                <div class="analytics-summary">
                    <div class="summary-card">
                        <div class="summary-icon">‚ö°</div>
                        <div class="summary-data">
                            <div class="summary-value" id="analyticsAvgWpm">0</div>
                            <div class="summary-label">Average WPM</div>
                        </div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-icon">üéØ</div>
                        <div class="summary-data">
                            <div class="summary-value" id="analyticsAvgAccuracy">0%</div>
                            <div class="summary-label">Average Accuracy</div>
                        </div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-icon">üî•</div>
                        <div class="summary-data">
                            <div class="summary-value" id="analyticsStreak">0</div>
                            <div class="summary-label">Day Streak</div>
                        </div>
                    </div>
                    <div class="summary-card improvement">
                        <div class="summary-icon">üìä</div>
                        <div class="summary-data">
                            <div class="summary-value" id="analyticsImprovement">+0</div>
                            <div class="summary-label">WPM Improvement</div>
                        </div>
                    </div>
                </div>

                <!-- WPM Progress Chart -->
                <div class="chart-section">
                    <h3>WPM Progress</h3>
                    <canvas id="wpmChart" width="800" height="300"></canvas>
                </div>

                <!-- Keyboard Heat Map -->
                <div class="heatmap-section">
                    <h3>Keyboard Heat Map</h3>
                    <p class="section-subtitle">Red = slower keys, Green = faster keys</p>
                    <div class="keyboard-heatmap" id="keyboardHeatmap"></div>
                </div>

                <!-- Weak Keys Analysis -->
                <div class="weak-keys-section">
                    <h3>Areas for Improvement</h3>
                    <div class="weak-keys-grid">
                        <div class="weak-keys-card">
                            <h4>Slowest Keys</h4>
                            <div id="slowestKeys" class="keys-list"></div>
                        </div>
                        <div class="weak-keys-card">
                            <h4>Most Errors</h4>
                            <div id="errorProneKeys" class="keys-list"></div>
                        </div>
                    </div>
                </div>

                <!-- Practice Calendar -->
                <div class="calendar-section">
                    <h3>Practice Calendar</h3>
                    <p class="section-subtitle">GitHub-style contribution graph</p>
                    <div class="practice-calendar" id="practiceCalendar"></div>
                </div>
            </div>
        </main>

        <!-- Achievements View -->
        <main id="achievements" class="view">
            <div class="achievements-container">
                <div class="achievements-header">
                    <h2>Your Achievements üèÖ</h2>
                    <div class="achievement-stats">
                        <div class="achievement-count">
                            <span id="unlockedCount">0</span>/<span id="totalCount">0</span> Unlocked
                        </div>
                    </div>
                </div>

                <!-- Achievement Grid -->
                <div class="achievements-grid" id="achievementsGrid">
                    <!-- Achievements will be dynamically inserted -->
                </div>

                <!-- Recent Achievements -->
                <div class="recent-achievements">
                    <h3>Recently Unlocked</h3>
                    <div id="recentAchievements" class="recent-list">
                        <p class="empty-state">No achievements unlocked yet. Keep practicing!</p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Redemption Modal -->
        <div id="redemptionModal" class="modal">
            <div class="modal-content redemption-content">
                <button class="modal-close">√ó</button>
                <div class="redemption-animation" id="redemptionAnimation"></div>
                <div class="redemption-success">
                    <div class="success-icon">üéâ</div>
                    <h2>Discount Unlocked!</h2>
                    <div class="discount-code-display">
                        <p>Your discount code:</p>
                        <div class="code-box">
                            <code id="discountCode">TB-DARAZ-XXXXX</code>
                            <button class="copy-btn" id="copyCodeBtn">üìã Copy</button>
                        </div>
                    </div>
                    <p class="expiry-note">Valid for 30 days</p>
                    <button class="store-btn" id="openStoreBtn">Open in Store App</button>
                </div>
            </div>
        </div>

        <!-- Celebration Overlay -->
        <div id="celebrationOverlay" class="celebration-overlay">
            <div class="confetti-container" id="confettiContainer"></div>
            <div class="celebration-message" id="celebrationMessage"></div>
        </div>
    </div>

    <script src="app.js"></script>
    <script src="content-generator.js"></script>
    <script src="analytics.js"></script>
    <script src="advanced-features.js"></script>
    <script src="shopping-buttons.js"></script>
</body>

</html>